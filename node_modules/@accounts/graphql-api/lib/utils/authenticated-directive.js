"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var authenticated_resolver_1 = require("./authenticated-resolver");
var graphql_tools_1 = require("graphql-tools");
var AuthenticatedDirective = /** @class */ (function (_super) {
    tslib_1.__extends(AuthenticatedDirective, _super);
    function AuthenticatedDirective() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AuthenticatedDirective.prototype.visitFieldDefinition = function (field) {
        field.resolve = authenticated_resolver_1.authenticated(field.resolve);
    };
    AuthenticatedDirective.prototype.visitObject = function (object) {
        var fields = object.getFields();
        Object.keys(fields).forEach(function (fieldName) {
            var field = fields[fieldName];
            if ('resolve' in field) {
                field.resolve = authenticated_resolver_1.authenticated(field.resolve);
            }
        });
    };
    return AuthenticatedDirective;
}(graphql_tools_1.SchemaDirectiveVisitor));
exports.AuthenticatedDirective = AuthenticatedDirective;
//# sourceMappingURL=authenticated-directive.js.map